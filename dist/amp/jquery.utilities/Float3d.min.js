/**
 * AMP JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/yoshihitofujiwara/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


var AMP=AMP||{};!function(t,a){function e(t,o){t&&t instanceof jQuery||(o=t,t=a(".float")),this.param=a.extend(!0,{},e.float3dOptions,o),this.param.$target=t,this.param.$html=a("html"),this.param._isFloating=!1}AMP.inherits(e,AMP.BASE_CLASS);var o=e.prototype;e.VERSION="1.0.1",o.className="Float3d",e.float3dOptions={perspective:400,translateZ:-150,rotate:7.5,range:5,speed:150,duration:400,ease:"easeOutExpo"},e.get=function(t,a){var o=new e(t,a);return o.on(),o},o.on=function(){var t=this;return t.off(),t.param.$target.css({perspective:this.param.perspective}).children().css({perspective:this.param.perspective}).children().css({perspective:this.param.perspective}),t.param.$target.on("mouseenter.Float3d",function(e){t.onTween(this,e),t.param._isFloating=!0,t.floatTween(a(this).children(),0),a(this).on("mousemove.Float3d",function(a){t.onTween(this,a)})}).on("mouseleave.Float3d",function(e){t.param._isFloating=!1,t.outTween(this,e),a(this).off("mousemove.Float3d")}),this.param.$html.on("mouseleave.Float3d",function(){t.param.$target.parent().off("mousemove.Float3d"),t.param._isFloating=!1}),this},o.off=function(){return this.param.$target.off(".Float3d").css({perspective:0}).children().css({perspective:this.param.perspective}).children().css({perspective:this.param.perspective}),this.param.$html.off(".Float3d"),this},o.onTween=function(t,e){var o=a(t).children(),r=this.offsetRatio(t,e);o.velocity("stop").velocity({translateZ:this.param.translateZ,rotateX:this.param.rotate*r.y,rotateY:this.param.rotate*r.x,rotateZ:this.param.rotate*r.x},{duration:this.param.duration,easing:this.param.ease})},o.floatTween=function(t,a){var e=this;a="number"==typeof a?a:0,a+=Math.PI/e.param.speed,t.children().velocity("stop").velocity({rotateX:e.param.range*Math.cos(a+Math.PI),rotateY:e.param.range*Math.sin(a+Math.PI),rotateZ:e.param.range*Math.sin(a+Math.PI)},{duration:1e3/60,easing:"linear",complete:function(){e.param._isFloating&&e.floatTween(t,a)}})},o.outTween=function(t){var e=this;a(t).children().velocity("stop").velocity({translateZ:0,rotateX:0,rotateY:0,rotateZ:0},{duration:e.param.duration,easing:e.param.ease}).children().velocity("stop").velocity({rotateX:0,rotateY:0,rotateZ:0},{duration:e.param.duration,easing:e.param.ease})},o.offsetRatio=function(t,e){var o=a(t),r={x:o.width()/2,y:o.height()/2},i={x:e.pageX-o.offset().left,y:e.pageY-o.offset().top};return{x:((i.x-r.x)/r.x).toFixed(2),y:((r.y-i.y)/r.y).toFixed(2)}},AMP.$=AMP.$||{},AMP.$.Float3d=e}(window,jQuery);