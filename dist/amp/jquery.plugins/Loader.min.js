/**
 * AMP JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/yoshihitofujiwara/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


var AMP=AMP||{};!function(e,t){var n,o,r;n=function(e,n){return this.elm=e?e:this.elm,this.imagesloaded=imagesLoaded(this.elm),this.length=this.imagesloaded.images.length,this.$defer=new t.Deferred,AMP.isBoolean(n)&&n&&this.start(),this},o=function(e){return new n(e,!0)},n.VERSION="2.0",r=n.prototype,r.elm="body",r.imagesloaded=null,r.$defer=null,r.length=0,r.count=0,r.loadCount=0,n.extend=AMP._extend,r.start=function(){var e=this;return e.imagesloaded.jqDeferred.progress(function(){e.count+=1}),e._update(),e.$defer.promise()},r._update=function(){var e=this,t=e.count/e.length*100;e.loadCount+=e.loadCount<t?1:0,e.$defer.notify(Math.ceil(e.loadCount)),e.loadCount>=100?e.$defer.resolve(e.imagesloaded):AMP.requestAnimationFrame(function(){e._update()})},r.toString=function(){return"[object Loader]"},AMP.Loader=n,AMP.loader=o}(window,jQuery);