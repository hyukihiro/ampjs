/**
 * AMP JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/yoshihitofujiwara/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


var AMP=AMP||{};!function(e,t){function o(e,o){return this.elm=e?e:this.elm,this.imagesloaded=imagesLoaded(this.elm),this.length=this.imagesloaded.images.length,this.$defer=new t.Deferred,AMP.isBoolean(o)&&o&&this.start(),this}AMP.inherits(o,AMP.BASE_CLASS);var a=o.prototype;o.VERSION="3.0.0",a.className="Loader",a.param=null,a.elm="body",a.imagesloaded=null,a.$defer=null,a.length=0,a.count=0,a.loadCount=0,a.start=function(){var e=this;return e.imagesloaded.jqDeferred.progress(function(){e.count+=1}),e._update(),e.$defer.promise()},a._update=function(){var e=this,t=e.count/e.length*100;e.loadCount+=e.loadCount<t?1:0,e.$defer.notify(Math.ceil(e.loadCount)),e.loadCount>=100?e.$defer.resolve(e.imagesloaded):AMP.requestAnimationFrame(function(){e._update()})},AMP.Loader=o,AMP.loader=o.get}(window,jQuery);