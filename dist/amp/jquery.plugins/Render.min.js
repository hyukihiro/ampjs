/**
 * AMP JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/yoshihitofujiwara/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


var AMP=AMP||{};!function(t,n,r){function e(t,a){this.props={$tmp:t,$el:null,template:r.compile(t.html()),originalData:null,renderData:null,ajaxOptions:n.extend(!0,{},e.ajaxOptions,a)}}AMP.inherits(e,AMP.BASE_CLASS);var a=e.prototype;e.get=function(t,n){var r=new e(t,n);return r.start(),r},e.VERSION="3.0.0",a.className="Render",e.ajaxOptions={url:null,chace:!1,dataType:"json"},a.start=function(){var t=this;return n.stream(function(){return t.ajax()},function(){return t.setRenderData()},function(){return t.render()})},a.ajax=function(){var t=this;return n.ajax(t.props.ajaxOptions).fail(t.ajaxFail).done(function(n){t.props.originalData=n,t.ajaxDone(n)})},a.ajaxDone=function(){},a.ajaxFail=function(n,r,e){return AMP.isDevelop&&console.log("xhr:"+n+"\nstatus: "+r+"\nerror: "+e),t.confirm("データの取得に失敗しました。\n再度、ページを読み込み直しますか？")&&location.reload(),this},a.setRenderData=function(t){return this.props.renderData=t?t:AMP.isArray(this.props.originalData)?this.props.originalData.concat():n.extend({},this.props.originalData),this},a.filtter=function(t){return t},a.removePrevHTML=function(){return this.props.$el?this.$el.children().remove():(this.props.$tmp.wrapAll('<div class="js_render" />'),this.props.$el=this.props.$tmp.parent()),this},a.notFound=function(){return'<p class="not_found">データを取得できませんでした。</p>'},a.createHTML=function(t){return this.setRenderData(t),this.props.template.render(this.props.renderData)||this.notFound()},a.render=function(t){return this.removePrevHTML(),this.props.$el[0].innerHTML=this.createHTML(t),this},AMP.Render=e}(window,jQuery,Hogan);