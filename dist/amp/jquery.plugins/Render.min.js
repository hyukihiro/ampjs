/**
 * AMP JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/yoshihitofujiwara/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


var AMP=AMP||{};!function(a,t,n){function r(a,e){this.param.$template=a,this.param.template=n.compile(a.html()),this.param.ajaxOptions=t.extend(!0,{},r.ajaxOptions,e)}AMP.inherits(r,AMP.BASE_CLASS);var e=r.prototype;r.get=function(a,t){var n=new r(a,t);return n.start(),n},r.VERSION="3.0.0",e.className="Render",r.ajaxOptions={url:null,chace:!1,dataType:"json"},e.param={$template:null,$el:null,template:null,originalData:null,renderData:null,ajaxOptions:null},e.start=function(){var a=this;return t.stream(function(){return a.ajax()},function(){return a.setRenderData()},function(){return a.render()})},e.ajax=function(){var a=this;return t.ajax(a.param.ajaxOptions).fail(a.ajaxFail).done(function(t){a.param.originalData=t,a.ajaxDone(t)})},e.ajaxDone=function(){},e.ajaxFail=function(t,n,r){return AMP.isDevelop&&console.log("xhr:"+t+"\nstatus: "+n+"\nerror: "+r),a.confirm("データの取得に失敗しました。\n再度、ページを読み込み直しますか？")&&location.reload(),this},e.setRenderData=function(a){return this.param.renderData=a?a:AMP.isArray(this.param.originalData)?this.param.originalData.concat():t.extend({},this.param.originalData),this},e.filtter=function(a){return a},e.removePrevHTML=function(){return this.param.$el?this.$el.children().remove():(this.param.$template.wrapAll('<div class="js_render" />'),this.param.$el=this.param.$template.parent()),this},e.notFound=function(){return'<p class="not_found">データを取得できませんでした。</p>'},e.createHTML=function(a){return this.setRenderData(a),this.param.template.render(this.param.renderData)||this.notFound()},e.render=function(a){return this.removePrevHTML(),this.param.$el[0].innerHTML=this.createHTML(a),this},AMP.Render=r,AMP.render=r.get}(window,jQuery,Hogan);