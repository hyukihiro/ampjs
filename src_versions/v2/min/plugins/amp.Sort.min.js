/**
 * amp JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/cutupworks/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


!function(t,r){var e,n,i;e=function(t,r){this.$trigger=t,this.render=r},n=function(t,r){var n=new e(t,r);return n.active(),n.setTrigger(this.$trigger),n},e.VERSION="2.0",i=e.prototype,i.$trigger=null,i.render=null,i.current="all",i.activeClass="active",i.isAnimate=!1,e.extend=amp._extend,i.setTrigger=function(t){var e=this;return t.on("click.Sort",function(){return e.controller(r(this).attr("href")),!1}),this},i.controller=function(t){var e=this;return t=t.replace(/#/,""),this.current===t||this.isAnimate?r.stream():r.stream(function(){e.isAnimate=!0,e.current=t,e.active(),e.render.createTemplate(e.findItem(e.current))},function(){return e.hide()},function(){return e.resetHTML()},function(){return e.show()},function(){e.isAnimate=!1})},i.active=function(){var t=this;return t.$trigger.removeClass(t.activeClass).each(function(){return r(this).attr("href")==="#"+t.current?(r(this).addClass(t.activeClass),!1):void 0}),this},i.findItem=function(t){var r=this,e={};return e="all"===t?r.render.data:_.filter(r.render.data,function(r){return r===t})},i.notFound=function(){return'<p class="not-found">検索結果は0件です。</p>'},i.resetHTML=function(){var t,e=this;return t=r("string"==typeof e.render.tmplData?e.notFound():e.render.tmpl.render(e.render.tmplData)),e.render.$el.replaceWith(t.css({opacity:0})),e.render.$el=t,e.render.$el},i.hide=function(){return this.render.$el.stop(!0,!1).animate({opacity:0})},i.show=function(){return this.render.$el.stop(!0,!1).animate({opacity:1})},i.toString=function(){return"[object Sort]"},t.amp=t.amp||{},t.amp.Sort=e,t.amp.sort=n}(window,jQuery);