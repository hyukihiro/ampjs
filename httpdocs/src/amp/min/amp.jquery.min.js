/**
 * amp JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/cutupworks/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


!function(e,t){var r,n;r=function(){},r.VERSION="1.0",n=r.prototype,r.types=["textover","rollover","alphaover"],r.defaults={groupClass:"group-over",activeClass:"active",noOverClass:"no-over",postfix:"_on"},r.extend=amp._extend,r.active=n.active=function(e,n,a){if(!(e instanceof jQuery))throw new TypeError("Please select the jQuery element");t.isPlainObject(n)&&(a=n,n=null),amp.isString(n)&&(n=n.toLowerCase());for(var i=!1,o=0,s=r.types.length;s>o;o+=1)if(n===r.types[o]){i=!0;break}return i||(n="IMG"===e[0].nodeName?r.types[1]:r.types[0]),r.types[0]===n?e.addClass(a.activeClass):(a=t.extend(!0,r.defaults,a),amp[n](e.addClass(a.activeClass),a))},n.toString=function(){return"[object Active]"},e.amp=e.amp||{},e.amp.Active=r,e.amp.active=r.active}(window,jQuery),function(e,t){var r,n,a;r=function(e,n){e&&e instanceof jQuery||(n=e,e=t(".box-hover")),this.$target=e,this.param=t.extend(!0,{},r.defaults,n)},n=function(e,t){var n=new r(e,t);return n.on(),n},r.VERSION="2.0",a=r.prototype,a.$target=null,r.defaults={hoverClass:"hover",linkClass:"link"},a.param=null,r.extend=amp._extend,a.on=function(e){var r=this;return e=e?e:this.$target,this.off(e),e.css({cursor:"pointer"}).on("mouseenter.BoxHover",function(){t(this).addClass(r.param.hoverClass)}).on("mouseleave.BoxHover",function(){t(this).removeClass(r.param.hoverClass)}).on("click.BoxHover",function(){r.setLink(t(this))}),this},a.off=function(e){return e=e?e:this.$target,e.css({cursor:"auto"}).off("mouseenter.BoxHover mouseleave.BoxHover click.BoxHover"),this},a.setLink=function(e){var t=this,r=e.find("."+t.param.linkClass),n=e.find("a").eq(0);return n=r[0]?r:n,"_blank"===n.attr("target")?window.open(n.attr("href"),"_blank"):void(location.href=n.attr("href"))},a.toString=function(){return"[object BoxHover]"},e.amp=e.amp||{},e.amp.BoxHover=r,e.amp.boxHover=n}(window,jQuery),function(e){var t,r;t=amp.Ease.extend(),r=t.prototype,r.$=r.jQuery={},r.$._1_SINE_IN="easeInSine",r.$._1_SINE_OUT="easeOutSine",r.$._1_SINE_IN_OUT="easeInOutSine",r.$._2_QUAD_IN="easeInQuad",r.$._2_QUAD_OUT="easeOutQuad",r.$._2_QUAD_IN_OUT="easeInOutQuad",r.$._3_CUBIC_IN="easeInCubic",r.$._3_CUBIC_OUT="easeOutCubic",r.$._3_CUBIC_IN_OUT="easeInOutCubic",r.$._4_QUART_IN="easeInQuart",r.$._4_QUART_OUT="easeOutQuart",r.$._4_QUART_IN_OUT="easeInOutQuart",r.$._5_QUINT_IN="easeInQuint",r.$._5_QUINT_OUT="easeOutQuint",r.$._5_QUINT_IN_OUT="easeInOutQuint",r.$._6_EXPO_IN="easeInExpo",r.$._6_EXPO_OUT="easeOutExpo",r.$._6_EXPO_IN_OUT="easeInOutExpo",r.$._7_CIRC_IN="easeInCirc",r.$._7_CIRC_OUT="easeOutCirc",r.$._7_CIRC_IN_OUT="easeInOutCirc",r.$._LINEAR="linear",r.$._BACK_IN="easeInBack",r.$._BACK_OUT="easeOutBack",r.$._BACK_IN_OUT="easeInOutBack",r.$._ELASTIC_IN="easeInElastic",r.$._ELASTIC_OUT="easeOutElastic",r.$._ELASTIC_IN_OUT="easeInOutElastic",r.$._BOUNCE_IN="easeInBounce",r.$._BOUNCE_OUT="easeOutBounce",r.$._BOUNCE_IN_OUT="easeInOutBounce",e.amp=e.amp||{},e.amp.Ease=t,e.amp.ease=new t}(window,jQuery),function(e,t){var r,n,a;r=function(e,n,a){this.$target=e,this.split=t.isNumeric(n)?n:e.length,a=t.isPlainObject(n)?n:a,this.param=t.extend(!0,{},r.defaults,a),this.param.key=this.param.key?this.param.key:amp.createID("FlatHeight"),this.param.isResize=amp.isDevice("sd")?!0:this.param.isResize},n=function(e,t,n){var a=new r(e,t,n);return a.setEvent(),a.setHeight(),a},r.VERSION="2.0",a=r.prototype,a.$target=null,a.split=null,r.defaults={isResize:!1,key:null,timer:50},a.param=null,r.extend=amp._extend,a.setEvent=function(){var e=this;return amp.isDevice("pc")&&amp.fontResize(function(){e.setHeight()},{key:e.param.key,timer:e.param.timer}),t(window).on("resizestop.FlatHeight",{timer:e.param.timer},function(){e.param.isResize&&e.setHeight()}),this},a.setSplit=function(e){return this.split=e,this.setHeight(),this},a.setHeight=function(){var e=this,t=e.$target.length,r=t%e.split,n=t-r,a=0,i=0,o=0,s=0;if(e.$target.height("auto"),1<e.split)for(;t>s;s+=1)i=e.$target.eq(s).height(),a=i>a?i:a,(s+1)%e.split===0?(e.$target.slice(o*e.split,(o+=1)*e.split).height(a),a=0):r>1&&s>=n&&s===t-1&&e.$target.slice(o*e.split,t).height(a);return this},a.toString=function(){return"[object FlatHeight]"},e.amp=e.amp||{},e.amp.FlatHeight=r,e.amp.flatHeight=n}(window,jQuery),function(e,t){var r,n;r=function(){},r.VERSION="2.1",n=r.prototype=amp.extend({},amp.Mediator.prototype,r.prototype),r._event="change",n.isObserver=!0,n.$el=null,n.height=null,r.extend=amp._extend,n._init=function(){return this.$el=t('<ins id="FontResize">F</ins>').css({display:"block",visibility:"hidden",position:"absolute",top:0,left:0,zIndex:-1}),t("body").append(this.$el),this.height=this.$el.height(),this._controller(),this},n.on=function(e,t,r){return this.$el||this._init(),this._addEvent(e,t,r),this},n.setObserver=function(e){var t=amp.isBoolean(e)?e:this.isObserver;return t!==this.isObserver&&t&&this._controller(),this.isObserver=t,this},n._controller=function(){var e=this,t=e.$el.height();return e.height!==t&&(e.height=t,this.trigger(r._event)),e.isObserver&&amp.requestAnimationFrame(function(){e._controller()}),this},n.toString=function(){return"[object FontResize]"},e.amp=e.amp||{},e.amp.FontResize=r,e.amp.fontResize=new r}(window,jQuery),function(e,t){var r,n,a;r=function(e,r){return this.elm=e?e:this.elm,this.imagesloaded=imagesLoaded(this.elm),this.length=this.imagesloaded.images.length,this.$defer=new t.Deferred,amp.isBoolean(r)&&r&&this.start(),this},n=function(e){return new r(e,!0)},r.VERSION="2.0",a=r.prototype,a.elm="body",a.imagesloaded=null,a.$defer=null,a.length=0,a.count=0,a.loadCount=0,r.extend=amp._extend,a.start=function(){var e=this;return e.imagesloaded.jqDeferred.progress(function(){e.count+=1}),e._update(),e.$defer.promise()},a._update=function(){var e=this,t=e.count/e.length*100;e.loadCount+=e.loadCount<t?1:0,e.$defer.notify(Math.ceil(e.loadCount)),e.loadCount>=100?e.$defer.resolve(e.imagesloaded):amp.requestAnimationFrame(function(){e._update()})},a.toString=function(){return"[object Loader]"},e.amp=e.amp||{},e.amp.Loader=r,e.amp.loader=n}(window,jQuery),function(e,t){var r,n;r=function(){},r.VERSION="1.1",n=r.prototype=t.extend({},amp.Mediator.prototype,r.prototype),n.$el=null,n.isObserver=!0,n.mediaTypes={current:null,prev:null},r.extend=amp._extend,n.init=function(e,t){return amp.isBoolean(e)&&(t=e),this.setElement(e),this.setObserver(t),this._controller(),this},n.on=function(e,t,r){return this._addEvent(e,t,r),this.$el||this.init(),this},n._controller=function(){var r=this;t(e).on("resize.Mediaquery",function(){if(r.isObserver){var e=r.getCurrents(),t=[];r.mediaTypes.current&&(t=_.difference(e,r.mediaTypes.current)),r.mediaTypes.prev=r.mediaTypes.current,r.mediaTypes.current=e,t[0]&&(_.each(t,function(e){r.trigger(e,r.mediaTypes)}),r.trigger("change",r.mediaTypes))}})},n.setObserver=function(r){return this.isObserver=amp.isBoolean(r)?r:this.isObserver,this.isObserver&&t(e).trigger("resize.Mediaquery"),this},n.setElement=function(e){return this.$el=this.$el||e instanceof jQuery?e:t("head"),this},n.getCurrents=function(){return _.sortBy(amp.removeSpaceChara(this.$el.css("fontFamily")).split(","))},n.toString=function(){return"[object Mediaquery]"},e.amp=e.amp||{},e.amp.Mediaquery=r,e.amp.mediaquery=new r}(window,jQuery),function(e,t){var r,n,a;r=function(e,n){this.$tmpl=e,this.tmpl=Hogan.compile(e.html()),this.ajaxOptions=t.extend(!0,{},r.ajaxOptions,n),_.bindAll(this,"getData","createTemplate","render")},n=function(e,t){var n=new r(e,t);return n.init(),n},r.VERSION="2.0",r.ajaxOptions={url:null,chace:!1,dataType:"json"},a=r.prototype,a.$tmpl=null,a.tmpl=null,a.data=null,a.tmplData=null,a.$el=null,a.$defer=null,r.extend=amp._extend,a.init=function(){var e=this;return this.$defer=t.stream(e.getData,e.createTemplate,e.render),this.$defer},a.getData=function(){var e=this;return t.ajax(e.ajaxOptions).fail(e.ajaxFail).done(function(t){e.data=t,e.ajaxDone(t)})},a.ajaxDone=function(){return this},a.ajaxFail=function(t,r,n){return amp.isDevelop&&console.log("xhr:"+t+"\nstatus: "+r+"\nerror: "+n),e.confirm("データの取得に失敗しました。\n再度、ページを読み込み直しますか？")&&location.reload(),this},a.createTemplate=function(e){return this.tmplData=e||this.data,this},a.render=function(){return this.$el=t(this.tmpl.render(this.tmplData)),this.$tmpl.replaceWith(this.$el),this},a.toString=function(){return"[object Render]"},e.amp=e.amp||{},e.amp.Render=r,e.amp.render=n}(window,jQuery),function(e,t){var r,n,a;r=function(e,n){e&&e instanceof jQuery||(n=e,e=t("img.rover, input.rover, .all-rover img")),this.$image=e,this.param=t.extend(!0,r.defaults,n)},n=function(e,t){var n=new r(e,t);return n.createRollover().on(),n},r.VERSION="1.0",a=r.prototype,r.defaults={groupClass:"group-over",activeClass:"active",noOverClass:"no-over",postfix:"_on"},a.param=null,a.$image=null,r.extend=amp._extend,a.createRollover=function(){var e,t,r,n,a,i=this,o=i.param;return i.$image.each(function(s){e=i.$image.eq(s),t=e[0],t.rollover={},r=t.src,n=r.substring(r.lastIndexOf("."),r.length),a=e.closest("."+o.groupClass),t.rollover.$trigger=a[0]?a:e,r.lastIndexOf(o.postfix+n)>-1?(t.rollover.onSrc=r,t.rollover.offSrc=r.replace(o.postfix+n,n),e.hasClass(o.activeClass)?amp.preload(t.rollover.offSrc):t.src=t.rollover.offSrc):(t.rollover.offSrc=r,t.rollover.onSrc=r.replace(n,o.postfix+n),amp.preload(t.rollover.onSrc),e.hasClass(o.activeClass)&&(t.src=t.rollover.onSrc))}),this},a.on=function(e){var r=this,n=t.isNumeric(e)?r.$image.eq(e):r.$image;return n.each(function(){var e=t(this),n=e[0];n.rollover.$trigger.off("mouseenter.Rollover mouseleave.Rollover").on({"mouseenter.Rollover":function(){e.hasClass(r.param.activeClass)||e.hasClass(r.param.noOverClass)||(n.src=n.rollover.onSrc)},"mouseleave.Rollover":function(){e.hasClass(r.param.activeClass)||e.hasClass(r.param.noOverClass)||(n.src=n.rollover.offSrc)}})}),this},a.off=function(e){var r=this,n=t.isNumeric(e)?r.$image.eq(e):r.$image;return n.each(function(){t(this)[0].rollover.$trigger.off("mouseenter.Rollover mouseleave.Rollover")}),this},a.active=function(e){var r=this,n=t.isNumeric(e)?r.$image.eq(e):r.$image;return n.each(function(){var e=t(this).addClass(r.param.activeClass)[0];e.src=e.rollover.onSrc}),this},a.passive=function(e){var r=this,n=t.isNumeric(e)?r.$image.eq(e):r.$image;n.each(function(){var e=t(this).removeClass(r.param.activeClass)[0];e.src=e.rollover.offSrc})},a.invalid=function(e){var r=this,n=t.isNumeric(e)?r.$image.eq(e):r.$image;n.each(function(){t(this).addClass(r.param.noOverClass)})},a.inforce=function(e){var r=this,n=t.isNumeric(e)?r.$image.eq(e):r.$image;n.each(function(){var e=t(this).removeClass(r.param.noOverClass).removeClass(r.param.activeClass)[0];e.src=e.rollover.offSrc})},a.toString=function(){return"[object Rollover]"},e.amp=e.amp||{},e.amp.Rollover=r,e.amp.rollover=n}(window,jQuery),function(e,t){var r,n,a;r=function(e,n){e&&e instanceof jQuery||(n=e,e=t("a[href^=#]")),this.$trigger=e,this.param=t.extend(!0,{},r.defaults,{$page:t("html, body")},n)},n=function(e,t){var n=new r(e,t);return n.on(),n},r.VERSION="2.0",a=r.prototype,a.$trigger=null,r.defaults={$page:null,adjust:0,noScrollClass:"no-scroll",duration:600,easing:"easeOutExpo",begin:t.noop,complete:t.noop},a.param=null,r.extend=amp._extend,a.on=function(){var e=this;return this.off(),e.$trigger.on("click.Scroll",function(){return e.tween(e.$trigger.index(this))}),this},a.off=function(){return this.$trigger.off("click.Scroll"),this},a.tween=function(e){var r,n=this,a=n.param,i=n.$trigger.eq(e),o=t(i.attr("href"));return o[0]&&!i.hasClass(a.noScrollClass)?(r=o.offset().top-a.adjust,t(window).scrollTop()!==r&&t.stream(a.begin,function(){return a.$page.stop(!0,!1).animate({scrollTop:r},a.duration,a.easing)},a.complete),!1):void 0},a.toString=function(){return"[object Scroll]"},e.amp=e.amp||{},e.amp.Scroll=r,e.amp.scroll=n}(window,jQuery),function(e,t){var r,n,a;r=function(e,n){this.$target=e,this.isShow="block"===e.css("display"),this.param=t.extend(!0,{},r.defaults,n)},n=function(e,t){var n=new r(e,t);return n.on(),n},r.VERSION="2.0",a=r.prototype,a.$window=t(e),a.$target=null,a.isShow=null,r.defaults={showY:300,show:{opacity:1},hide:{opacity:0},duration:400,easing:"easeOutCubic",showCall:t.noop,hideCall:t.noop},a.param=null,r.extend=amp._extend,a.on=function(){var e,t=this,r=t.param;return t.$window.off("scroll.ScrollToggle").on("scroll.ScrollToggle",function(){e=t.$window.scrollTop(),!t.isShow&&r.showY<e?t.show():t.isShow&&r.showY>e&&t.hide()}).trigger("scroll.ScrollToggle"),this},a.off=function(){return self.$window.off("scroll.ScrollToggle"),this},a.show=function(){var e=this;return e.isShow=!0,e.$target.css({display:"block"}).css(e.param.hide).stop(!0,!1).animate(e.param.show,e.param.duration,e.param.ease,e.param.showCall),this},a.hide=function(){var e=this;return e.isShow=!1,e.$target.stop(!0,!1).animate(e.param.hide,e.param.duration,e.param.ease,function(){e.$target.css({display:"none"}),e.param.hideCall()}),this},a.toString=function(){return"[object ScrollToggle]"},e.amp=e.amp||{},e.amp.ScrollToggle=r,e.amp.scrollToggle=n}(window,jQuery),function(e,t){var r,n,a;r=function(e){this.$target=t("html, body"),this.param=t.extend(!0,{},r.defaults,e)},n=function(e){var t=new r(e);return t.on(),t},r.VERSION="2.0",a=r.prototype,a.$target=null,r.defaults={amount:200,dulation:400,ease:"easeOutCubic"},a.param=null,r.extend=amp._extend,a.on=function(){var e=this;return amp.isWindows()&&e.$target.off("mousewheel.SmoothScroll").on("mousewheel.SmoothScroll",function(t,r){return e.tween(t,r),!1}),this},a.off=function(){return this.$target.off("mousewheel.SmoothScroll"),this},a.tween=function(e,t){var r=this,n=r.param,a=amp.isWebkit()?r.$target.eq(1).scrollTop():r.$target.eq(0).scrollTop(),i=t>0?a-n.amount:a+n.amount;r.$target.stop(!0,!1).animate({scrollTop:i},n.dulation,n.ease)},a.toString=function(){return"[object SmoothScroll]"},e.amp=e.amp||{},e.amp.SmoothScroll=r,e.amp.smoothScroll=n}(window,jQuery),function(e,t){var r,n,a;r=function(e,t){this.$trigger=e,this.render=t},n=function(e,t){var n=new r(e,t);return n.active(),n.setTrigger(this.$trigger),n},r.VERSION="2.0",a=r.prototype,a.$trigger=null,a.render=null,a.current="all",a.activeClass="active",a.isAnimate=!1,r.extend=amp._extend,a.setTrigger=function(e){var r=this;return e.on("click.Sort",function(){return r.controller(t(this).attr("href")),!1}),this},a.controller=function(e){var r=this;return e=e.replace(/#/,""),this.current===e||this.isAnimate?t.stream():t.stream(function(){r.isAnimate=!0,r.current=e,r.active(),r.render.createTemplate(r.findItem(r.current))},function(){return r.hide()},function(){return r.resetHTML()},function(){return r.show()},function(){r.isAnimate=!1})},a.active=function(){var e=this;return e.$trigger.removeClass(e.activeClass).each(function(){return t(this).attr("href")==="#"+e.current?(t(this).addClass(e.activeClass),!1):void 0}),this},a.findItem=function(e){var t=this,r={};return r="all"===e?t.render.data:_.filter(t.render.data,function(t){return t===e})},a.notFound=function(){return'<p class="not-found">検索結果は0件です。</p>'},a.resetHTML=function(){var e,r=this;return e=t("string"==typeof r.render.tmplData?r.notFound():r.render.tmpl.render(r.render.tmplData)),r.render.$el.replaceWith(e.css({opacity:0})),r.render.$el=e,r.render.$el},a.hide=function(){return this.render.$el.stop(!0,!1).animate({opacity:0})},a.show=function(){return this.render.$el.stop(!0,!1).animate({opacity:1})},a.toString=function(){return"[object Sort]"},e.amp=e.amp||{},e.amp.Sort=r,e.amp.sort=n}(window,jQuery);