/**
 * amp JavaScript Library
 *
 * @licence MIT Licence
 *
 * author Yoshihito Fujiwara
 * source https://bitbucket.org/cutupworks/ampjs
 * Copyright (c) 2014 Yoshihito Fujiwara
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */


var common=common||{};!function(a,t,i){function e(t,i){this.param=a.extend(!0,{},e.defaults,{$wrap:t,$frame:t.find(".inner"),$slide:t.find(".list"),$items:t.find(".list").children(),$pointer:t.find(".pointer"),$thumbnail:t.find(".thumbnail a"),$prev:t.find(".prev a"),$next:t.find(".next a"),originalLength:t.find(".list").children().length,length:0,clone:2,distance:0,position:0,timerId:null,isAnimate:!1},i),this.param.isInit&&this.init()}var r=e.prototype;e.defaults={isInit:!0,isFlick:!0,current:0,duration:500,ease:"easeOutExpo",timer:0,activeClass:"active",tweenStartCall:a.noop,tweenCall:a.noop,tweenEndCall:a.noop,resizeCall:a.noop,resizeStopCall:a.noop},r.init=function(){var a=this;return a._isInit||(a._isInit=!0,a._createSlideItems(),a._createPointer(),a.setStyle(),a._active(),a.addEventResize(),a.addEventFlick(),a.addEventNext(a.param.$next),a.addEventPrev(a.param.$prev),a.addEventPager(a.param.$thumbnail),a.addEventPager(a.param.$pointer.find("a")),a.timerStart(),a.param.$wrap.hover(function(){a.timerStop()},function(){a.timerStart()})),a},r.setStyle=function(){var a,t,i=this;return i.param.length=i.param.$items.length,i.param.distance=i.param.$items.outerWidth(!0),a=i.param.$wrap.outerWidth(!0),t=a<i.param.distance?0:(a-i.param.distance)/2,i.param.position=t+i.param.distance*i.param.originalLength*-1,i.param.$slide.css({width:i.param.length*i.param.distance,left:i.param.position}),i},r.addEventResize=function(){var t=this;return a(window).on("resize.LiquidSlider",function(){t.setStyle(),t.timerStop(),t.param.resizeCall(t.param)}).on("resizestop.LiquidSlider",function(){t.timerStart(),t.param.resizeStopCall(t.param)}),t},r.addEventFlick=function(){var a=this;return a.param.$items.on("flickmoveX.LiquidSlider",function(t){a._move(t.moveX)}).on("flickcancel.LiquidSlider",function(){a._moveCenter()}).on("flickX.LiquidSlider",function(t){0<t.moveX?a.prev():a.next()}),a},r.addEventNext=function(a){var t=this;return a.on("click.LiquidSlider",function(){return t.next(),!1}),t},r.addEventPrev=function(a){var t=this;return a.on("click.LiquidSlider",function(){return t.prev(),!1}),t},r.addEventPager=function(a){var t=this;return a.on("click.LiquidSlider",function(){return t.moveTo(a.index(this)),!1}),t},r.timerStart=function(a){var i=this;return t.isNumber(a)&&(i.param.timer=a),i.timerStop(),0<i.param.timer&&(i.param.timerId=setTimeout(function(){i.next()},i.param.timer+i.param.duration)),i},r.timerStop=function(){return clearTimeout(this.param.timerId),this},r.next=function(){return this._controller(1),this},r.prev=function(){return this._controller(-1),this},r.moveTo=function(a){return t.isNumber(a)&&a<this.param.originalLength&&this._controller(a-this.param.current),this},r._controller=function(t){var i=this;if(!i.param.isAnimate){var e=i.param.current+t;i.param.current=0>e?i.param.originalLength-1:e>i.param.originalLength-1?0:e,a.sequence(function(){i.param.isAnimate=!0,i.timerStop()},function(){return i._active(t),i._tween(t)},function(){i.timerStart(),i.param.isAnimate=!1})}return i},r._createSlideItems=function(){for(var a=this.param.$slide[0].innerHTML,t=a,i=0;i<this.param.clone;i+=1)t+=a;return this.param.$slide[0].innerHTML=t,this.param.$items=this.param.$slide.children(),this},r._createPointer=function(){if(this.param.$pointer[0]){for(var a=this.param.$pointer[0].innerHTML,t="",i=0;i<this.param.originalLength;i+=1)t+=a;this.param.$pointer[0].innerHTML=t}return this},r._active=function(a){return a=t.isNumber(a)?a:0,this.param.$pointer[0]&&this.param.$pointer.children().removeClass(this.param.activeClass).eq(this.param.current).addClass(this.param.activeClass),this.param.$thumbnail[0]&&this.param.$thumbnail.removeClass(this.param.activeClass).eq(this.param.current).addClass(this.param.activeClass),this.param.current===this.param.originalLength-1?this.param.$next.addClass(this.param.activeClass):this.param.$next.removeClass(this.param.activeClass),0===this.param.current?this.param.$prev.addClass(this.param.activeClass):this.param.$prev.removeClass(this.param.activeClass),this.param.$slide.children().removeClass(this.param.activeClass).eq(this.param.originalLength+a).addClass(this.param.activeClass),this},r._move=function(a){return this.param.$slide.css({left:this.param.position+a}),this},r._moveCenter=function(){return this.param.$slide.stop().animate({left:this.param.position},100,this.param.ease),this},r._tween=function(t){var i=this;return a.sequence(function(){return i.param.tweenStartCall(i.param)},function(){i.param.tweenCall(i.param);var a=i.param.position+i.param.distance*t*-1;return i.param.$slide.stop().animate({left:a},i.param.duration,i.param.ease)},function(){var a=i.param.$slide,e=a.children();return t>0?a.css({left:i.param.position}).append(e.slice(0,t)):a.css({left:i.param.position}).prepend(e.slice(i.param.length+t)),i.param.tweenEndCall(i.param)})},i.LiquidSlider=e}(jQuery,amp,common);